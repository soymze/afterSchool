

public class Birinci  implements Runnable{

	Islem birimIslem;
	
	public Birinci(Islem gelenIslem) {
		birimIslem= gelenIslem;
	}

	public void run() {
		while(!birimIslem.isTamamlandi()) {
			long baslangic = System.currentTimeMillis();
			try {
				System.out.println("İşlem sonucu hazır değil.Sistem beklemede...");
				Thread.sleep(100);
			} catch (InterruptedException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			}
			long bitis= System.currentTimeMillis();
			System.out.println("Uyku süresi: " +(bitis-baslangic));
		}
		System.out.println("İşlem sonucu hazır. Sonuç:"  +birimIslem.getSonuc());
	}

}


public class denemeThread {

	public denemeThread() {
		
	}
	
	public static void main(String[] args) {
		Islem mevcutIslem= new Islem();
		
		Thread t1= new Thread(new Birinci(mevcutIslem));
		t1.start();
		
		Thread t2= new Thread(new Ikinci(mevcutIslem));
		t2.start();

	}

}


public class Ikinci implements Runnable{

	Islem birimIslem;
	int sayi,indeks,sonIfade;
	
	public Ikinci(Islem gelenIslem) {
		birimIslem= gelenIslem;
		sayi= 10;
		indeks=2;
	}
	
	public void run() {
		birimIslem.setSonuc(1);
		
		sonIfade=1;
		birimIslem.setSonuc(1);
		
		while(indeks<sayi) {
			int eskiYeni = birimIslem.getSonuc();
			birimIslem.setSonuc(sonIfade+birimIslem.getSonuc());
			sonIfade= eskiYeni;
			indeks++;
			
			try {
				Thread.sleep(100);
				System.out.println("Fibonacci hesaplanıyor..beklemede..");
				
			} catch (InterruptedException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			}
		}
		System.out.println("Fibonacci hesaplandı..sonuç gönderiliyor..");
		birimIslem.setTamamlandi(true);
	}

}


public class Islem {

	private int sonuc;
	private boolean tamamlandi= false;
	
	public Islem() {
		sonuc= 0;
		tamamlandi= false;
	}

	public int getSonuc() {
		return sonuc;
	}

	public void setSonuc(int sonuc) {
		this.sonuc = sonuc;
	}

	public boolean isTamamlandi() {
		return tamamlandi;
	}

	public void setTamamlandi(boolean tamamlandi) {
		this.tamamlandi = tamamlandi;
	}
	
}
